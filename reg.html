<!DOCTYPE html>
<html>
    <head>
        <title>Admin</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="box">
            <div class="form">
                <h2>Admin SignUp </h2>
                <form>
                    <div class="inputbox">
                        <input type="text" value="" id="username" required>
                        <span>username</span>
                    </div>
                    
                    <div class="inputbox">
                        <input type="email" value="" id="admin-email" required>
                        <span>E-mail</span>
                    </div>
                    <div class="inputbox">
                        <input type="password" value="" id="admin-password" required>
                        <span>Password</span>
                    </div>
                    <input type="submit" value="submit" class="sub" id="submit">
                    Already have an account?<a href="admin.html">LogIn</a>
                </form>
            </div>
        </div>
        <script type="module">
               // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
            import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";
            import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js";
  
  // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyA8Zku92dfEVV0oHaUQliF582j6-teMFpA",
  authDomain: "gym-management-system-b0d8f.firebaseapp.com",
  databaseURL: "https://gym-management-system-b0d8f-default-rtdb.firebaseio.com",
  projectId: "gym-management-system-b0d8f",
  storageBucket: "gym-management-system-b0d8f.firebasestorage.app",
  messagingSenderId: "806768660166",
  appId: "1:806768660166:web:d8667f951bcb8f97fc51c7"

            };

  // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const auth =getAuth(app);

   //get ref to database services
             const db = getDatabase(app);

           

                 const submit=   document.getElementById("submit").addEventListener('click', function(e) {
                    e.preventDefault();

                    const email = document.getElementById("admin-email").value;
                    const password = document.getElementById("admin-password").value;

                    // Authenticate user with email and password
                    signInWithEmailAndPassword(auth, email, password)
                        .then((userCredential) => {
                            // Signed in successfully
                            const user = userCredential.user;
                            alert("Login Successful!");
                            window.location.href="home.html";
                            console.log("User ID: " + user.uid);
                            // You can redirect or display user info here
                        })
                        .catch((error) => {
                            const errorCode = error.code;
                            const errorMessage = error.message;
                            alert("Error: " + errorMessage);
                            console.log("Error Code: " + errorCode + ", Message: " + errorMessage);
                        });
                });

        </script>
        
    </body>
</html>